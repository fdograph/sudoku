(this["webpackJsonp@fdograph/sudoku"]=this["webpackJsonp@fdograph/sudoku"]||[]).push([[0],{16:function(n,t,e){n.exports=e(24)},21:function(n,t,e){},24:function(n,t,e){"use strict";e.r(t);var r,a=e(0),o=e.n(a),c=e(10),u=e.n(c),i=e(7),l=e(1),d=e(2),s=(e(21),e(11)),f=e.n(s),b=e(12),m=e(3);function p(n){var t=Math.random();switch(n){case r.EASY:return t>.5;case r.MEDIUM:return t>.4;case r.HARD:return t>.2}}function v(){for(var n=Object(m.a)(),t=0;t<9;t++){var e=Object(m.a)(Array(9).fill(0));n=n.set(t,e)}return n}function g(n,t,e){var r,a=null===(r=n.get(e))||void 0===r?void 0:r.get(t);if(void 0===a)throw new Error("No cell was found at: {x: ".concat(t,", y: ").concat(e,"}"));return a}function h(n,t,e,r){return n.update(e,(function(n){return n.set(t,r)}))}function k(n,t,e,r){if(r<1||r>9)return!1;for(var a=0;a<9;a++){var o=3*Math.floor(e/3)+Math.floor(a/3),c=3*Math.floor(t/3)+a%3;if(a!==t&&g(n,a,e)===r||a!==e&&g(n,t,a)===r||c!==t&&o!==e&&g(n,c,o)===r)return!1}return!0}function y(n,t,e){return 0===g(n,t,e)}function E(n,t,e){for(var r=Object(m.b)(),a=0;a<9;a++){var o=3*Math.floor(e/3)+Math.floor(a/3),c=3*Math.floor(t/3)+a%3;r=r.add(g(n,a,e)).add(g(n,t,a)).add(g(n,c,o))}return Object(m.b)([1,2,3,4,5,6,7,8,9]).subtract(r).sort((function(){return Math.random()-.5})).toSet()}function j(n){for(var t=0;t<9;t++)for(var e=0;e<9;e++){var r=g(n,e,t);if(0===r||!k(n,e,t,r)){var a,o=E(n,e,t),c=Object(b.a)(o);try{for(c.s();!(a=c.n()).done;){var u=j(h(n,e,t,a.value));if(void 0!==u)return u}}catch(i){c.e(i)}finally{c.f()}return}}return n}function M(){var n=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  border: none;\n  outline: none;\n  padding: 0;\n  margin: 0;\n  background: transparent;\n  text-align: center;\n  color: #ddd;\n  font-size: 1.5em;\n  font-weight: bold;\n"]);return M=function(){return n},n}function w(){var n=Object(l.a)(["\n  position: absolute;\n  min-width: 130%;\n  width: max-content;\n  text-align: center;\n  z-index: 10;\n  top: -3em;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #ccc;\n  color: #222;\n  padding: 0.5em;\n  border-radius: 0.25em;\n  display: none;\n\n  span {\n    display: block;\n  }\n\n  span:first-child {\n    font-size: 0.75em;\n  }\n\n  span:empty::before {\n    content: '-';\n  }\n"]);return w=function(){return n},n}function O(){var n=Object(l.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  align-content: stretch;\n  justify-content: stretch;\n  text-align: center;\n  background: #1d1d1d;\n\n  &.is-invalid {\n    background: rgb(255, 111, 111);\n  }\n\n  &.is-empty {\n    background: rgb(34, 34, 34);\n  }\n\n  &.is-selected {\n    background: #000;\n    &.is-invalid {\n      background: rgb(255, 111, 111);\n    }\n  }\n\n  &:hover .sudoku--cell-hints {\n    display: block;\n  }\n"]);return O=function(){return n},n}function x(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(9, 1fr);\n  grid-template-rows: repeat(9, 1fr);\n  gap: 0.125em;\n  justify-items: stretch;\n  background: #111;\n"]);return x=function(){return n},n}!function(n){n[n.EASY=0]="EASY",n[n.MEDIUM=1]="MEDIUM",n[n.HARD=2]="HARD"}(r||(r={}));var A=d.a.div(x()),D=d.a.div(O()),I=d.a.div(w()),N=d.a.input(M()),S=function(n,t,e){return n===e.col&&t===e.row},U=function(n){var t=n.candidates;return o.a.createElement(I,{className:"sudoku--cell-hints"},o.a.createElement("span",null,"Hints:"),o.a.createElement("span",null,t.join(" - ")))},H=function(n){var t=n.board,e=n.coords,r=n.hints,c=n.updateCoords,u=n.updateBoard,i=Object(a.useCallback)((function(n,e){return function(r){u(h(t,n,e,Number(r.key.replace(/\D/g,""))))}}),[t,u]),l=Object(a.useMemo)((function(){return t.map((function(n,a){return n.map((function(n,u){return o.a.createElement(D,{className:f()("sudoku--cell",{"is-selected":S(u,a,e),"is-invalid":!y(t,u,a)&&!k(t,u,a,n),"is-empty":y(t,u,a)}),key:"block:".concat(u,":").concat(a)},r&&S(u,a,e)?o.a.createElement(U,{candidates:E(t,u,a).toArray()}):null,o.a.createElement(N,{className:"sudoku--cell-input",key:"cell:".concat(u,":").concat(a),value:n||"-",onFocus:function(){return!S(u,a,e)&&c({col:u,row:a})},onKeyUp:i(u,a)}))}))})).flatten(!1).toArray()}),[t,e,r,i,c]);return o.a.createElement(A,{className:"sudoku--board"},l)};function z(){var n=Object(l.a)(["\n  display: flex;\n  padding: 1em;\n  justify-content: center;\n  align-items: center;\n  background: #222;\n\n  .sudoku--board {\n    width: 90vmin;\n    height: 90vmin;\n  }\n"]);return z=function(){return n},n}var B=d.a.div(z()),C=function(){var n=Object(a.useState)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.MEDIUM,t=function(t){for(var e=0;e<9;e++)for(var r=0;r<9;r++)p(n)&&(t=h(t,r,e,0));return t};return t(j(v()))}(r.MEDIUM)),t=Object(i.a)(n,2),e=t[0],c=t[1],u=Object(a.useState)({col:0,row:0}),l=Object(i.a)(u,2),d=l[0],s=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,null,o.a.createElement(H,{board:e,coords:d,hints:!0,updateCoords:s,updateBoard:c})))};u.a.render(o.a.createElement(C,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.4771c8e4.chunk.js.map